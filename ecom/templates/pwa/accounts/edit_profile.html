{% extends 'pwa/accounts/base.html' %} {% load static %} {% block content %}

<!-- Header Start -->
<header class="header">
  <div class="logo-wrap">
    <a href="#"><i class="iconly-Arrow-Left-Square icli"></i></a>
    <h1 class="title-color font-md">Edit Profile</h1>
  </div>
  <div class="avatar-wrap">
    <a href="#">
      <i class="iconly-Home icli"></i>
    </a>
  </div>
</header>
<!-- Header End -->

<!-- Main Start -->
<form class="custom-form" method="post" enctype="multipart/form-data">
      {% csrf_token %}
<main class="main-wrap setting-page mb-xxl">
  <div class="user-panel">
    <div class="media">
      <div class="avatar-wrap">
        {% if profile.profile_image %}
        <img src="{{ profile.profile_image.url }}" alt="avatar" class="profile-image" />
        {% else %}
        <img src="assets/images/avatar/avatar.jpg" alt="avatar" class="profile-image" />
        {% endif %}
        <label for="profile_image">
          <span class="edit"> <i data-feather="edit-3"></i></span>
        </label>
        <input type="file" name="profile_image" id="profile_image" class="form-control" style="display: none" />
      </div>
      <div class="media-body">
        <h2 class="title-color">{{ profile.user.name }}</h2>
        <span class="content-color font-md">{{ profile.email }}</span>
      </div>
    </div>
  </div>

  <!-- Form Section Start -->
  


    <div class="input-box">
      <i class="iconly-Profile icli"></i>
      <input type="text" name="name" placeholder="Name" value="{{ form.name.value }}" class="form-control" required />
    </div>

    <div class="input-box">
      <i data-feather="at-sign"></i>
      <input type="email" name="email" placeholder="Email" value="{{ profile.email }}" class="form-control" required />
    </div>

    <div class="input-box">
      <i class="iconly-Call icli"></i>
      <input type="number" name="mobile_number" placeholder="Mobile Number" value="{{ profile.user.mobile_number }}" class="form-control" required />
    </div>

    <div class="input-box">
      <i class="iconly-Location icli"></i>
      <input type="text" name="location" placeholder="Location" value="{{ profile.location }}" class="form-control" required />
    </div>

    <div class="input-box">
      <i class="iconly-Building icli"></i>
      <input type="text" name="city" placeholder="City" value="{{ profile.city }}" class="form-control" required />
    </div>

    <div class="input-box">
      <label for="cover_image">Cover Image</label>
      <input type="file" name="cover_image" id="cover_image" class="form-control" />
    </div>

    <button type="submit" class="btn-solid">Submit</button>
  </form>
  <!-- Form Section End -->
</main>
<!-- Main End -->

<!-- Footer Start -->
<footer class="footer-wrap">
  <!-- Your footer content here -->
</footer>
<!-- Footer End -->
<script>
  document.querySelector(".edit").addEventListener("click", function() {
    document.getElementById("profile_image").click();
});

  document.getElementById("profile_image").onchange = function (event) {
    var reader = new FileReader();
    reader.onload = function () {
      var output = document.querySelector(".profile-image");
      output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  };
</script>

{% endblock content %}
